<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TortinhosBet - Cassino Online</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>🎉 TortinhosBet 🎰</h1>
    <nav>
      <button onclick="showLogin()">Login</button>
      <button onclick="showRegister()">Cadastro</button>
      <span id="user-info"></span>
    </nav>
  </header>

  <main>
    <section id="auth">
      <div id="login">
        <h2>Login</h2>
        <input type="text" id="login-user" placeholder="Usuário" />
        <input type="password" id="login-pass" placeholder="Senha" />
        <button onclick="login()">Entrar</button>
      </div>
      <div id="register">
        <h2>Cadastro</h2>
        <input type="text" id="register-user" placeholder="Usuário" />
        <input type="password" id="register-pass" placeholder="Senha" />
        <button onclick="register()">Cadastrar</button>
      </div>
    </section>

    <section id="games" style="display: none">
      <h2>Bem-vindo ao TortinhosBet!</h2>
      <p>Saldo: R$ <span id="balance">0</span></p>
      <div class="game-buttons">
        <button onclick="playMines()">💣 Mines</button>
        <button onclick="playRoleta()">🐯 Roleta do Tigrinho</button>
        <button onclick="playAviator()">✈️ Aviator</button>
        <button onclick="openShop()">🛒 Loja</button>
      </div>
      <div id="game-container"></div>
      <div id="shop" style="margin-top:2em;"></div>
    </section>
  </main>

  <script>
    let users = JSON.parse(localStorage.getItem('users')) || {};
    let currentUser = localStorage.getItem('currentUser') || null;

    function showLogin() {
      document.getElementById('login').style.display = 'block';
      document.getElementById('register').style.display = 'none';
    }

    function showRegister() {
      document.getElementById('login').style.display = 'none';
      document.getElementById('register').style.display = 'block';
    }

    function register() {
      const user = document.getElementById('register-user').value;
      const pass = document.getElementById('register-pass').value;
      if (!users[user]) {
        users[user] = { password: pass, balance: 1000, items: [] };
        localStorage.setItem('users', JSON.stringify(users));
        alert('Cadastro realizado com sucesso! Você ganhou R$1000 de bônus.');
        showLogin();
      } else {
        alert('Usuário já existe.');
      }
    }

    function login() {
      const user = document.getElementById('login-user').value;
      const pass = document.getElementById('login-pass').value;
      if (users[user] && users[user].password === pass) {
        currentUser = user;
        localStorage.setItem('currentUser', user);
        updateUI();
      } else {
        alert('Usuário ou senha incorretos.');
      }
    }

    function updateUI() {
      document.getElementById('auth').style.display = 'none';
      document.getElementById('games').style.display = 'block';
      document.getElementById('user-info').textContent = `Logado como: ${currentUser}`;
      document.getElementById('balance').textContent = users[currentUser].balance;
    }

    function updateBalanceDisplay() {
      document.getElementById('balance').textContent = users[currentUser].balance;
      localStorage.setItem('users', JSON.stringify(users));
    }

    function playMines() {
      const bet = 50;
      if (users[currentUser].balance >= bet) {
        const win = Math.random() < 0.5;
        users[currentUser].balance += win ? bet : -bet;
        updateBalanceDisplay();
        alert(win ? 'Você ganhou no Mines!' : 'Você perdeu no Mines!');
      } else {
        alert('Saldo insuficiente.');
      }
    }

    function playRoleta() {
      const bet = 50;
      if (users[currentUser].balance >= bet) {
        const result = Math.random();
        let message = '';
        if (result < 0.3) {
          users[currentUser].balance += bet * 2;
          message = '🎯 Ganhou na Roleta do Tigrinho!';
        } else {
          users[currentUser].balance -= bet;
          message = '💔 Perdeu na Roleta do Tigrinho!';
        }
        updateBalanceDisplay();
        alert(message);
      } else {
        alert('Saldo insuficiente.');
      }
    }

    function playAviator() {
      const bet = 100;
      if (users[currentUser].balance >= bet) {
        const multiplier = (Math.random() * 2 + 1).toFixed(2);
        users[currentUser].balance += Math.floor(bet * (multiplier - 1));
        updateBalanceDisplay();
        alert(`✈️ Aviator decolou com multiplicador ${multiplier}x!`);
      } else {
        alert('Saldo insuficiente.');
      }
    }

    function openShop() {
      const shopItems = [
        { name: 'Camiseta Tortinhos', price: 300 },
        { name: 'Moeda Especial', price: 150 },
        { name: 'Avatar Personalizado', price: 500 }
      ];
      const shopDiv = document.getElementById('shop');
      shopDiv.innerHTML = '<h3>🛍️ Loja</h3>';
      shopItems.forEach(item => {
        const button = document.createElement('button');
        button.textContent = `Comprar ${item.name} - R$${item.price}`;
        button.onclick = () => buyItem(item);
        shopDiv.appendChild(button);
      });
    }

    function buyItem(item) {
      if (users[currentUser].balance >= item.price) {
        users[currentUser].balance -= item.price;
        users[currentUser].items.push(item.name);
        updateBalanceDisplay();
        alert(`Você comprou: ${item.name}`);
      } else {
        alert('Saldo insuficiente para comprar este item.');
      }
    }

    if (currentUser) updateUI();
  </script>
</body>
</html>
